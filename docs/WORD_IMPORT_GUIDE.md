# 📚 词库导入完整指南

WordEasy 提供了三种灵活的单词导入方式，满足不同场景的需求。

---

## 🎯 三种导入方式

### 1️⃣ 快速添加单词（推荐新手）

**适用场景**：临时添加少量单词（1-10个）

**操作步骤**：
1. 进入「词库管理」页面
2. 找到「✏️ 快速添加单词」模块
3. 输入英文单词和中文释义
4. 点击「➕ 添加单词」或按回车键

**特点**：
- ✅ 简单直观，无需准备文件
- ✅ 即时添加，立即生效
- ✅ 支持回车快速提交
- ✅ 自动转换为小写

**示例**：
```
英文单词: Hello
中文释义: 你好
```

---

### 2️⃣ 批量添加（推荐日常使用）

**适用场景**：一次添加多个单词（10-100个）

**操作步骤**：
1. 在「快速添加单词」模块下方找到「📋 批量添加」
2. 在文本框中粘贴或输入多行单词
3. 点击「📝 批量添加」

**支持格式**：
```
# 格式1：空格分隔（推荐）
hello 你好
world 世界
study 学习

# 格式2：竖线分隔
hello|你好
world|世界
study|学习

# 格式3：Tab分隔
hello	你好
world	世界
study	学习
```

**特点**：
- ✅ 支持多种分隔符
- ✅ 自动识别格式
- ✅ 一次性导入多个
- ✅ 适合从笔记/文档复制

---

### 3️⃣ 文件导入（推荐大批量）

**适用场景**：导入大量单词（100+）或使用现成词库

**操作步骤**：
1. 准备词库文件（TXT/CSV/JSON）
2. 在「📤 导入词库文件」模块点击文件选择区
3. 选择文件后点击「开始上传」

**支持的文件格式**：

#### TXT 格式（推荐）
```txt
hello|你好
world|世界
study|学习；研究
computer|计算机；电脑
```

#### CSV 格式
```csv
hello,你好
world,世界
study,学习；研究
computer,计算机；电脑
```

#### JSON 格式（数组）
```json
[
  {"word": "hello", "meaning": "你好"},
  {"word": "world", "meaning": "世界"},
  {"word": "study", "meaning": "学习"}
]
```

#### JSON 格式（对象）
```json
{
  "hello": "你好",
  "world": "世界",
  "study": "学习"
}
```

**特点**：
- ✅ 支持大批量导入
- ✅ 自动识别格式
- ✅ 支持多种文件类型
- ✅ 适合导入现成词库

---

## 🔄 在线格式转换器

如果您的词库格式不匹配，使用内置的格式转换器：

### 使用步骤：

1. 点击「💡 格式不匹配？」下的「显示转换器」
2. 选择输入格式（或选择"自动检测"）
3. 粘贴您的词库内容
4. 点击「🔄 转换格式」
5. 选择操作：
   - 「📋 复制结果」：复制转换后的内容
   - 「⬆️ 直接上传」：立即导入到词库

### 转换示例：

**输入（CSV格式）**：
```
hello,你好
world,世界
```

**输出（WordEasy格式）**：
```
hello|你好
world|世界
```

### 支持的输入格式：

- **CSV**: `word,meaning`
- **JSON**: `[{"word":"hello","meaning":"你好"}]` 或 `{"hello":"你好"}`
- **TXT**: `word meaning` 或 `word	meaning`
- **已转换**: `word|meaning`（直接识别）

---

## 📊 智能功能

### 自动难度分类

导入后，系统会自动根据以下规则分类：

- **初级（Level 1）**：≤5个字母的常用词
- **中级（Level 2）**：6-8个字母的词
- **高级（Level 3）**：≥9个字母或包含复杂词缀

如果分类不准确，可以点击「🔀 智能分类」重新分类。

### 自动去重

- 上传时自动检测重复单词
- 只更新已存在单词的释义
- 避免重复添加

---

## 💡 使用建议

### 推荐工作流程：

1. **临时记录**：使用「快速添加」记录课堂/阅读中遇到的生词
2. **整理笔记**：每周使用「批量添加」整理笔记本中的单词
3. **导入词库**：使用「文件导入」添加标准词库（如CET4、CET6）

### 格式选择建议：

| 场景 | 推荐格式 | 原因 |
|------|----------|------|
| 手动输入 | 快速添加 | 最简单直观 |
| 复制粘贴 | 批量添加 | 支持多种分隔符 |
| 现成词库 | TXT文件 | 兼容性最好 |
| 程序生成 | JSON文件 | 结构化数据 |
| Excel导出 | CSV文件 | Excel原生支持 |

### 文件大小建议：

- ✅ **推荐**：每次导入 200-500 个单词
- ⚠️ **可接受**：500-1000 个单词
- ❌ **不推荐**：超过 1000 个单词（建议分批导入）

---

## ⚙️ 高级技巧

### 技巧1：从Excel导出

1. 在Excel中准备两列：英文 | 中文
2. 另存为 → CSV (逗号分隔) 格式
3. 直接导入或使用转换器

### 技巧2：从网页复制

1. 选中网页上的词汇表
2. 复制到「批量添加」文本框
3. 系统自动识别格式

### 技巧3：命令行转换

对于大型词库，使用 Python 工具转换：

```bash
cd wordeasy/tools
python convert_vocab.py your_words.csv output.txt
```

详见：[tools/QUICK_START.md](../tools/QUICK_START.md)

---

## 🐛 常见问题

### Q1: 上传后显示"0个单词"？

**原因**：格式不正确

**解决方案**：
1. 检查文件编码是否为 UTF-8
2. 确认格式：`word|meaning` 或使用转换器
3. 确保每行只有一个单词

### Q2: 中文显示乱码？

**原因**：文件编码问题

**解决方案**：
1. 用记事本打开文件
2. 另存为 → 编码选择「UTF-8」
3. 重新上传

### Q3: 批量添加失败？

**原因**：分隔符识别错误

**解决方案**：
1. 确保单词和释义之间有明确分隔（空格、Tab、竖线、逗号）
2. 避免单词或释义中包含多余空格
3. 使用「在线转换器」预处理

### Q4: JSON格式报错？

**原因**：JSON语法错误

**解决方案**：
1. 使用 [JSONLint](https://jsonlint.com/) 验证JSON格式
2. 检查是否缺少引号、逗号、括号
3. 确保使用双引号而非单引号

### Q5: 大文件上传超时？

**解决方案**：
1. 将文件拆分为多个小文件（每个500词以内）
2. 分批上传
3. 检查网络连接

---

## 📖 词库资源

### 推荐词库来源：

1. **ECDICT**：https://github.com/skywind3000/ECDICT
   - 包含海量词汇
   - 需要使用工具提取

2. **KyleBing词库**：https://github.com/KyleBing/english-vocabulary
   - 按考试分类
   - 直接可用

3. **自建词库**：
   - 课本单词表
   - 阅读材料生词
   - 考试大纲词汇

### 词库导入示例：

```bash
# 下载KyleBing词库
git clone https://github.com/KyleBing/english-vocabulary.git

# 使用转换工具
cd wordeasy/tools
python convert_vocab.py path/to/CET4.txt cet4_ready.txt

# 在网页中上传 cet4_ready.txt
```

---

## 🎓 最佳实践

### 单词导入流程：

```
1. 收集单词
   ↓
2. 选择导入方式
   ├─ 少量 → 快速添加
   ├─ 中量 → 批量添加
   └─ 大量 → 文件导入
   ↓
3. 格式检查/转换
   ↓
4. 导入系统
   ↓
5. 验证结果（查看统计）
   ↓
6. 开始学习！
```

### 词库管理建议：

- 📚 **分类管理**：按考试、教材、主题分批导入
- 🔄 **定期更新**：每周添加新学单词
- 📊 **查看统计**：关注各难度词汇分布
- 🔀 **智能分类**：导入后运行一次智能分类
- 🧹 **清理进度**：新学期可清理旧进度

---

## 🆘 需要帮助？

- 📧 提交 Issue：[GitHub Issues](https://github.com/ilovend/wordeasy/issues)
- 📖 查看文档：[README.md](../README.md)
- 🛠️ 工具文档：[tools/README.md](../tools/README.md)

---

**提示**：导入词库后，建议先从「初级」难度开始学习，逐步提高！
