# 📚 词库分类管理系统

## 🎯 功能概述

WordEasy v1.6.0 引入了完整的词库分类管理系统，支持创建多个独立的词库，每个词库可以有自己的学习设置、记忆算法和优先级配置。

---

## ✨ 核心特性

### 1. 多词库管理
- 📁 创建无限个词库分类
- 🏷️ 为每个词库设置名称和描述
- 🔄 独立管理每个词库的单词
- 📊 单独统计每个词库的学习进度

### 2. 学习设置
- **每日新学数量**：控制每天学习新单词的数量（1-1000）
- **新学批次数量**：每次学习会话的单词数（1-100）
- 建议设置：
  - 轻度学习：20-50个/天，10-20个/批次
  - 中度学习：50-100个/天，20-30个/批次
  - 强化学习：100-200个/天，30-50个/批次

### 3. 多语言支持
支持的目标语言：
- 🇺🇸 英语（默认）
- 🇯🇵 日语
- 🇨🇳 中文(普通话)
- 🇰🇷 韩语
- 🇩🇪 德语
- 🇫🇷 法语
- 🇪🇸 西班牙语

发音人选项：
- 默认：系统自动选择
- 美音：适用于英语
- 英音：适用于英语
- 母语：使用母语发音人

### 4. 词库类型
- **📚 单词库**：普通单词列表，适合考试词汇、分级词汇
- **📖 课程库**：按课程组织的单词，适合教材配套
- **✨ 自定义**：自由定义用途的词库

### 5. 记忆算法

#### FSRS (推荐) ⭐
**自由间隔重复调度器（Free Spaced Repetition Scheduler）**
- 最先进的记忆算法
- 基于最新认知科学研究
- 动态调整复习间隔
- 自适应个人记忆曲线
- 最优化复习效率

**适用场景**：所有类型的学习

#### StepMaster
**阶梯式学习算法**
- 固定间隔：1天 → 3天 → 7天 → 15天
- 简单易懂，适合初学者
- 稳定的学习节奏
- 不需要调整参数

**适用场景**：
- 初次接触间隔重复法的用户
- 喜欢固定学习节奏
- 短期快速记忆

#### SM-2
**SuperMemo 2 算法**
- 经典的间隔重复算法（1988年）
- 成熟稳定，经过验证
- 基于难度评级调整间隔
- 广泛应用于记忆软件

**适用场景**：
- 熟悉传统间隔重复法
- 需要稳定可靠的算法
- 长期记忆保持

### 6. 优先级设置

#### 新学优先级
- **默认**：按照单词添加顺序学习
- **随机**：随机顺序，增加趣味性

#### 复习优先级
- **默认**：按照遗忘曲线排序（最快遗忘的优先）
- **随机**：随机复习，避免预期

### 7. 重复过滤
- **过滤**：导入时自动跳过已存在的单词
- **允许**：允许同一单词在不同词库中出现

---

## 🚀 使用指南

### 创建第一个词库

1. **进入词库管理页面**
   ```
   导航栏 → 词库管理 → 点击「➕ 创建新词库」
   ```

2. **填写基本信息**
   - 词库名称：例如「考研核心词汇」
   - 描述：例如「考研英语5500词，按频率排序」

3. **配置学习设置**
   - 每日新学数量：`50`（根据自己的时间调整）
   - 新学批次数量：`20`（每次学习20个）

4. **选择语言**
   - 目标语言：`英语`
   - 发音人：`美音`

5. **选择词库类型**
   - 选择 `📚 单词库`

6. **选择记忆算法**
   - 推荐选择 `FSRS`（最优算法）

7. **设置优先级**
   - 新学优先级：`默认`
   - 复习优先级：`默认`

8. **重复过滤**
   - 选择 `🚫 过滤重复`

9. **点击「创建词库」**

### 向词库添加单词

#### 方式1：文件导入
```
词库管理 → 选择词库 → 📤 导入单词 → 选择文件
```

支持格式：TXT、CSV、JSON

#### 方式2：快速添加
```
词库管理 → 选择词库 → ✏️ 快速添加 → 输入单词和释义
```

#### 方式3：批量添加
```
词库管理 → 选择词库 → 📋 批量添加 → 粘贴多行文本
```

### 开始学习

1. **选择词库**
   ```
   首页 → 选择词库（下拉菜单）
   ```

2. **选择模式**
   - 🎓 学习模式：学习新单词
   - ⚔️ 挑战模式：快速拼写测试
   - 🔄 复习模式：复习今日待办

3. **开始学习**
   - 系统会根据词库设置自动推送单词
   - 每天最多学习「每日新学数量」个新词
   - 每次学习「新学批次数量」个单词

---

## 📊 词库统计

每个词库都有独立的统计信息：

- **总单词数**：词库中所有单词
- **已学单词**：至少学习过一次的单词
- **新单词**：未学习过的单词
- **学习中**：正在记忆的单词
- **已掌握**：熟练掌握的单词
- **今日待复习**：根据算法推送的复习单词

---

## 🎯 推荐词库配置方案

### 方案1：考试冲刺型

**词库名称**：CET-4核心词汇  
**配置**：
- 每日新学：100个
- 批次大小：30个
- 目标语言：英语
- 记忆算法：FSRS
- 新学优先级：默认
- 复习优先级：默认

**适用**：考前1-3个月，密集学习

### 方案2：长期积累型

**词库名称**：英语进阶词汇  
**配置**：
- 每日新学：30个
- 批次大小：15个
- 目标语言：英语
- 记忆算法：FSRS
- 新学优先级：随机
- 复习优先级：默认

**适用**：长期提升，稳扎稳打

### 方案3：多语言学习型

**词库名称**：日语N2单词  
**配置**：
- 每日新学：40个
- 批次大小：20个
- 目标语言：日语
- 发音人：母语
- 记忆算法：StepMaster
- 新学优先级：默认

**适用**：第二外语学习

### 方案4：课程配套型

**词库名称**：大学英语第一册  
**配置**：
- 每日新学：50个
- 批次大小：25个
- 目标语言：英语
- 词库类型：课程库
- 记忆算法：SM-2
- 新学优先级：默认

**适用**：跟随课程进度

---

## 🔧 数据库迁移

### 自动迁移（推荐）

```bash
cd backend
python migrations/add_deck_system.py
```

迁移脚本会自动：
1. ✅ 创建 `decks` 表
2. ✅ 创建「默认词库」
3. ✅ 备份旧数据到 `words_backup`
4. ✅ 更新 `words` 表结构
5. ✅ 将所有旧单词归入「默认词库」
6. ✅ 创建 `daily_stats` 统计表

### 手动迁移（高级用户）

如果需要自定义迁移过程，可以参考 `migrations/add_deck_system.py` 脚本。

---

## 💡 使用技巧

### 技巧1：词库分类策略

建议按以下维度分类：
- **按考试类型**：CET-4、CET-6、考研、托福、雅思
- **按难度等级**：初级、中级、高级
- **按学科领域**：商务英语、医学英语、IT英语
- **按教材课程**：大学英语第一册、第二册...

### 技巧2：学习量设置

根据可用时间设置每日新学数量：
- 10分钟/天：20-30个
- 30分钟/天：50-80个
- 1小时/天：100-150个
- 2小时/天：200-300个

### 技巧3：算法选择

- **初学者**：StepMaster（简单直观）
- **有经验**：FSRS（最优效果）
- **传统派**：SM-2（稳定可靠）

### 技巧4：批次大小

批次大小 = 单次学习时间 × 3
- 10分钟 → 20-30个
- 20分钟 → 40-60个
- 30分钟 → 80-100个

### 技巧5：优先级组合

| 场景 | 新学优先级 | 复习优先级 |
|------|-----------|-----------|
| 系统学习 | 默认 | 默认 |
| 趣味学习 | 随机 | 随机 |
| 考前冲刺 | 默认 | 默认 |
| 保持记忆 | 随机 | 默认 |

---

## ❓ 常见问题

### Q1: 旧数据会丢失吗？
**A**: 不会。迁移脚本会：
- 自动创建「默认词库」
- 将所有旧单词归入默认词库
- 备份原始数据到 `words_backup` 表

### Q2: 可以在多个词库中添加相同单词吗？
**A**: 可以。
- 重复过滤=「允许」时，相同单词可以在多个词库
- 重复过滤=「过滤」时，会跳过已存在的单词

### Q3: 如何迁移单词到另一个词库？
**A**: 暂时需要：
1. 导出原词库单词（导出为TXT）
2. 导入到新词库

未来版本会添加批量迁移功能。

### Q4: 删除词库会删除单词吗？
**A**: 是的。删除词库会同时删除：
- 词库中的所有单词
- 对应的学习进度
- 相关统计数据

建议删除前先导出备份。

### Q5: 可以暂停某个词库吗？
**A**: 可以。编辑词库时设置「停用」即可。停用的词库：
- 不会出现在首页选择列表
- 不会推送新单词和复习
- 数据仍然保留

### Q6: 算法可以中途切换吗？
**A**: 可以，但建议：
- FSRS ↔ SM-2：平滑切换
- 切换到 StepMaster：会重置为固定间隔
- 切换后原有学习进度保留

---

## 🔮 未来规划

v1.7.0 计划新增：
- 📈 词库学习曲线图表
- 🔄 单词批量迁移功能
- 📤 词库导出/导入功能
- 🎨 词库主题颜色自定义
- 📊 跨词库统计对比
- 🏆 学习成就系统

---

## 🆘 获取帮助

- 📧 提交 Issue：[GitHub Issues](https://github.com/ilovend/wordeasy/issues)
- 📖 查看文档：[README.md](../README.md)
- 💬 讨论交流：[GitHub Discussions](https://github.com/ilovend/wordeasy/discussions)

---

**祝学习愉快！🎉**
